import{a as y,Y as c,b as m,s as $,o,e as n,h as r,r as l,t as f,x as b,i as h,f as d,m as g,l as V,w as N,v as S,j as C}from"./entry.b2982cee.js";import B from"./index.9a1229a9.js";import{u as v}from"./uid.2376e4bd.js";const p="INumberInput",k=y({name:p,components:{IButton:c},extends:B,props:{color:{type:String,default:m(p,"color")},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},id:{type:String,default:""},modelValue:{type:[String,Number],default:""},name:{type:[String,Number],default(){return v("input")}},readonly:{type:Boolean,default:!1},size:{type:String,default:m(p,"size"),validator:$},tabindex:{type:[Number,String],default:0},min:{type:[Number,String],default:-1/0},max:{type:[Number,String],default:1/0},precision:{type:Number,default:0},step:{type:Number,default:1}},emits:["update:modelValue"],watch:{modelValue:{immediate:!0,handler(e){var t,i;let a=(e||"").toString().replace(/^[^0-9-]/,"").replace(/^(-)[^0-9]/,"$1").replace(new RegExp(`^(-?[0-9]+)[^0-9${this.precision>0?".":""}]`),"$1");this.precision>0&&(a=a.replace(/^(-?[0-9]+\.)[^0-9]/,"$1").replace(new RegExp(`^(-?[0-9]+\\.[0-9]{0,${this.precision}}).*`),"$1")),parseFloat(a)>=parseFloat(this.max)&&(a=this.max.toString()),parseFloat(a)<=parseFloat(this.min)&&(a=this.min.toString()),(i=(t=this.parent).onInput)==null||i.call(t,this.name,a),this.$emit("update:modelValue",a)}}},methods:{decrease(){this.$emit("update:modelValue",this.formatPrecision((Number(this.modelValue)-this.step).toString()))},increase(){this.$emit("update:modelValue",this.formatPrecision((Number(this.modelValue)+this.step).toString()))},formatPrecision(e){const a=e.split(".");let t=a[1]||"";for(let i=t.length;i<this.precision;i+=1)t+="0";return this.precision>0?`${a[0]}.${t}`:a[0]},onBlurFormatPrecision(e){var a,t;this.$emit("update:modelValue",this.formatPrecision(Number(this.modelValue).toString())),(t=(a=this.parent).onBlur)==null||t.call(a,this.name,e)}}}),z={class:"input-prepend"},I={class:"input"},w={key:0,class:"input-prefix"},P=["value","name","id","tabindex","disabled","aria-disabled","readonly","aria-readonly"],F={key:1,class:"input-suffix"},R=["aria-label","aria-hidden"],D={class:"input-append"};function E(e,a,t,i,j,A){const u=c;return o(),n("div",{class:V(["input-wrapper -prepended -appended",e.classes])},[r("div",z,[l(e.$slots,"prepend"),f(u,{type:"button",color:e.color,size:e.size,disabled:e.disabled,class:"input-button-decrease",onClick:e.decrease},{default:b(()=>[h(" - ")]),_:1},8,["color","size","disabled","onClick"])]),r("div",I,[e.$slots.prefix?(o(),n("span",w,[l(e.$slots,"prefix")])):d("",!0),r("input",g(e.$attrs,{value:e.value,ref:"input",name:e.name,id:e.id,type:"text",tabindex:e.tabIndex,disabled:e.isDisabled,"aria-disabled":e.isDisabled?"true":!1,readonly:e.isReadonly,"aria-readonly":e.isReadonly?"true":!1,onInput:a[0]||(a[0]=(...s)=>e.onInput&&e.onInput(...s)),onBlur:a[1]||(a[1]=(...s)=>e.onBlur&&e.onBlur(...s))}),null,16,P),e.$slots.suffix||e.clearable&&e.isClearable?(o(),n("span",F,[l(e.$slots,"clearable",{clear:e.onClear},()=>[e.clearable?N((o(),n("i",{key:0,class:"input-clear",role:"button","aria-label":e.clearAriaLabel,"aria-hidden":e.isClearable?"false":"true",onClick:a[2]||(a[2]=(...s)=>e.onClear&&e.onClear(...s))},null,8,R)),[[S,e.isClearable]]):d("",!0)]),l(e.$slots,"suffix")])):d("",!0)]),r("div",D,[f(u,{type:"button",color:e.color,size:e.size,disabled:e.disabled,class:"input-button-increase",onClick:e.increase},{default:b(()=>[h(" + ")]),_:1},8,["color","size","disabled","onClick"]),l(e.$slots,"append")])],2)}const q=C(k,[["render",E]]);export{q as default};
